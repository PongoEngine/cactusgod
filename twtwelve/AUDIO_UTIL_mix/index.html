<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     
    <meta name="author" content="Jeremy" />
     
    <meta name="description" content="Technical specifications of the forever 2012 album." />
     
    <meta property="og:title" content="AUDIO_UTIL_mix" />
    
    <meta property="og:site_name" content="Cactus God" />

    
    <meta property="og:image" content="" />
     <link rel="shortcut icon" href="/img/favicon.ico">  <link rel="alternate" href="/atom.xml" title="Cactus God" type="application/atom+xml"> 
    <title>AUDIO_UTIL_mix | Cactus God</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif&family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    
    <style>
      body {
        background-color: #111;
        color: #fff;
      }

      header {
        background-color: #ffdd00;
        color: #222;
      }

      a {
        color: #222;
        background-color: #ffdd00;
      }

      a:hover {
        color: #ffee80;
      }

      .arrangement {
        border: 1px solid #ffee80;
      }

      .arrangement-wavy {
        stroke: #ffdd00;
      }

      .tubs-segment {
        fill: #444;
        stroke: #000;
      }

      .tubs-segment.down {
        stroke: #888;
        stroke-width: 3px;
      }

      .tubs-segment.back {
        stroke: #888;
        stroke-width: 2px;
      }

      .tubs-segment.split {
        stroke: #888;
        stroke-width: 1px;
      }

      .tubs-segment.hit {
        fill: #ffdd00;
      }

      .tubs-line {
        stroke: #ffee80;
      }

      .tubs-text {
        fill: #fff;
      }

      .tubs-backing-cur {
        stroke: #ffee80;
      }

      .tubs-text-cur {
        fill: #fff;
      }

      .dyn-pattern-path {
        stroke: #ffdd00;
      }

      .dyn-text {
        fill: #000;
      }

      .dyn-dynamics {
        fill: none;
        stroke: #ffdd00;
      }

      .dyn-point-tri {
        fill: none;
        stroke: #ffdd00;
      }

      .dyn-point-text {
        fill: #fff;
      }
    </style>
  
    
<link rel="stylesheet" href="/css/blog.css">

  <meta name="generator" content="Hexo 5.4.0"></head>
  <body>
    <div class="container">
      <header>
  <ul class="blog-nav">
    
    <li class="blog-nav-item">
      <a href="/">Home</a>
    </li>
    
    <li class="blog-nav-item">
      <a href="/about">About</a>
    </li>
    
  </ul>
  <h1>
    <span class="header-title">Cactus God</span
    >
  </h1>
  <div class="header-line"></div>
</header>
 
      <div class="post">
  <!-- Title -->
  <h2 class="post-title">
    
      AUDIO_UTIL_mix
    
  </h2>
  
    <p class="post-date">
      July 11, 2023
    </p>
  
  
    <h1 id="Decoding-the-AUDIO-UTIL-mix-Function-Preventing-Clipping-in-Racing-Simulations"><a href="#Decoding-the-AUDIO-UTIL-mix-Function-Preventing-Clipping-in-Racing-Simulations" class="headerlink" title="Decoding the AUDIO_UTIL_mix Function: Preventing Clipping in Racing Simulations"></a>Decoding the AUDIO_UTIL_mix Function: Preventing Clipping in Racing Simulations</h1><p>Racing simulations, striving to replicate the thrill of real-world racing, rely heavily on audio processing techniques to create a seamless and immersive user experience. One such technique is the use of the <code>AUDIO_UTIL_mix</code> function. This function elegantly mixes two audio signals together to enhance the sensory aspects of a simulation. Here’s the function:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Function: AUDIO_UTIL_mix</span></span><br><span class="line"><span class="comment"> * -------------------</span></span><br><span class="line"><span class="comment"> * Mix two audio signals together</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">AUDIO_UTIL_mix</span><span class="params">(<span class="keyword">float</span> a, <span class="keyword">float</span> b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (a + b) - a * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the context of racing simulations, the signals <code>a</code> and <code>b</code> can represent different elements of the environment, like the engine’s rumble and road noise. But what’s especially interesting about this function is how it blends these signals while preventing a common issue in audio processing - clipping.</p>
<h2 id="Understanding-Clipping"><a href="#Understanding-Clipping" class="headerlink" title="Understanding Clipping"></a>Understanding Clipping</h2><p>Clipping in audio processing occurs when the amplitude of a signal exceeds its maximum limit. In digital audio, this limit is often set to a specific value - typically 1.0 for normalized signals. If the combined signal exceeds this limit, it results in distortions, leading to a poor audio experience. </p>
<h2 id="How-does-the-AUDIO-UTIL-mix-Function-Prevent-Clipping"><a href="#How-does-the-AUDIO-UTIL-mix-Function-Prevent-Clipping" class="headerlink" title="How does the AUDIO_UTIL_mix Function Prevent Clipping?"></a>How does the AUDIO_UTIL_mix Function Prevent Clipping?</h2><p>The function prevents clipping by carefully managing the range of the mixed signal. </p>
<p>The operation <code>(a + b)</code> naively adds the two signals together. But if the values of <code>a</code> and <code>b</code> are both close to 1, their sum can exceed 1, leading to clipping.</p>
<p>To combat this, the function subtracts the product of <code>a</code> and <code>b</code> (<code>a * b</code>) from the sum. Since both <code>a</code> and <code>b</code> are normalized to the range of [0,1], their product also lies within this range. This ensures that the final mixed signal stays within the desired range of [0,1], thereby preventing clipping.</p>
<p>This is a simple yet effective technique that allows us to combine signals while preserving their original characteristics and avoiding distortion.</p>
<h2 id="The-Impact-on-Racing-Simulations"><a href="#The-Impact-on-Racing-Simulations" class="headerlink" title="The Impact on Racing Simulations"></a>The Impact on Racing Simulations</h2><p>In the context of racing simulations, this means that users can experience the rumble of the engine and the road noise in a balanced and realistic manner. When these mixed signals are converted to haptic feedback, the users ‘feel’ the nuances of the race without any jarring distortions that could break the immersion.</p>

  
</div>
 
      <footer>
    &#169; 2021 Cactus God | Jeremy
</footer>
    </div>
    
<script src="/js/script.js"></script>

  </body>
</html>

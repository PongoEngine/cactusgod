<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     
    
    <meta name="author" content="Jeremy" />
     
    <meta name="description" content="A blog about designing haptic feedback hardware and progamming soft synths. Posts dive into expanding limited telemtry data to drive an immersive experience and maybe using FM to blow some speakers." />
     
    <meta property="og:title" content="The Power of Normalization" />
    
    <meta property="og:site_name" content="Cactus God" />

    
    <meta property="og:image" content="" />
     <link rel="shortcut icon" href="/img/favicon.ico">  <link rel="alternate" href="/atom.xml" title="Cactus God" type="application/atom+xml"> 
    <title>Cactus God | The Power of Normalization</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif&family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    
    <style>
      body {
        background-color: #111;
        color: #fff;
      }

      header {
        background-color: #cc0099;
        color: #222;
      }

      code {
        background-color: #ffbfef;
        color: #222;
      }

      figure {
        background-color: #ffbfef;
        color: #222;
      }

      .arrangement {
        border: 1px solid #ff80df;
      }

      .arrangement-wavy {
        stroke: #cc0099;
      }

      .tubs-segment {
        fill: #444;
        stroke: #000;
      }

      .tubs-segment.down {
        stroke: #888;
        stroke-width: 3px;
      }

      .tubs-segment.back {
        stroke: #888;
        stroke-width: 2px;
      }

      .tubs-segment.split {
        stroke: #888;
        stroke-width: 1px;
      }

      .tubs-segment.hit {
        fill: #cc0099;
      }

      .tubs-line {
        stroke: #ff80df;
      }

      .tubs-text {
        fill: #fff;
      }

      .tubs-backing-cur {
        stroke: #ff80df;
      }

      .tubs-text-cur {
        fill: #fff;
      }

      .dyn-pattern-path {
        stroke: #cc0099;
      }

      .dyn-text {
        fill: #000;
      }

      .dyn-dynamics {
        fill: none;
        stroke: #cc0099;
      }

      .dyn-point-tri {
        fill: none;
        stroke: #cc0099;
      }

      .dyn-point-text {
        fill: #fff;
      }
    </style>
  
    
<link rel="stylesheet" href="/css/blog.css">

  <meta name="generator" content="Hexo 5.4.0"></head>
  <body>
    <div class="container">
      <header>
  <ul class="blog-nav">
    
    <li class="blog-nav-item">
      <a href="/">Home</a>
    </li>
    
    <li class="blog-nav-item">
      <a href="/about">About</a>
    </li>
    
  </ul>
  <h1>
    <span class="header-title">Cactus God</span
    >
  </h1>
  <div class="header-line"></div>
</header>
 
      <div class="post">
  <!-- Title -->
  <h1>
    
      The Power of Normalization
    
  </h1>
  <p class="post-date">
    July 15, 2023
  </p>
  
    
    <svg version="1.1"
    width="3600" viewBox="0 0 3600 1375.0732407204002"
    class="dynamics"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <pattern id="pattern-2" x="0" y="0" width="120" height="20" patternUnits="userSpaceOnUse">
          <path stroke-width="1.458971001038043" class="dyn-pattern-path" d='M-50.129 12.685C-33.346 12.358-16.786 4.918 0 5c16.787.082 43.213 10 60 10s43.213-9.918 60-10c16.786-.082 33.346 7.358 50.129 7.685' stroke-width='0.5' stroke='rgb(0, 0, 0)' fill='none' />
        </pattern>
      </defs>
      <rect class="dyn-rect-back" width="3600" height="1375.0732407204002" x="0" y="0" fill="url(#pattern-2)" />
      <rect class="dyn-rect-front" width="3600" height="1375.0732407204002" x="200.61919825144682" y="200.61919825144682" fill="url(#pattern-2)" />
      <text class="dyn-text no-user-select" font-weight="700" letter-spacing="-11.180017418625923" font-size="250.77399781430853" alignment-baseline="hanging" text-anchor="middle" x="1800" y="687.5366203602001">NONE ARE AS POWERFUL OR VERSATILE AS THE CONCEPT OF NORMALIZATION</text>
      <polygon
      class="dyn-point-tri"
      points="822.857142857143,1220.2454085726713 842.857142857143,1254.886424724049 802.857142857143,1254.886424724049"
      stroke-width="4"
    />
<polygon
      class="dyn-point-tri"
      points="2160,395.20146414043137 2180,429.84248029180895 2140,429.84248029180895"
      stroke-width="4"
    />
      <polyline class="dyn-dynamics" points="0,1237.5659166483601 102.85714285714286,1237.5659166483601 205.71428571428572,1100.0585925763203 308.57142857142856,1100.0585925763203 411.42857142857144,137.5073240720401 514.2857142857143,137.5073240720401 617.1428571428572,1237.5659166483601 720.0000000000001,1237.5659166483601 822.857142857143,1237.5659166483601 925.7142857142859,1237.5659166483601 1028.5714285714287,825.0439444322401 1131.4285714285716,825.0439444322401 1234.2857142857144,412.52197221612016 1337.1428571428573,412.52197221612016 1440.0000000000002,1237.5659166483601 1542.8571428571431,1237.5659166483601 1645.714285714286,412.52197221612016 1748.571428571429,412.52197221612016 1851.4285714285718,825.0439444322401 1954.2857142857147,825.0439444322401 2057.1428571428573,1100.0585925763203 2160,412.52197221612016 2262.8571428571427,412.52197221612016 2365.7142857142853,137.5073240720401 2468.571428571428,137.5073240720401 2571.4285714285706,1237.5659166483601 2674.2857142857133,1237.5659166483601 2777.142857142856,1100.0585925763203 2879.9999999999986,1100.0585925763203 2982.8571428571413,137.5073240720401 3085.714285714284,137.5073240720401 3188.5714285714266,275.01464814407996 3291.4285714285693,275.01464814407996 3394.285714285712,412.52197221612016 3497.1428571428546,412.52197221612016 3599.9999999999973,550.0292962881601 " stroke-width="5" />
    </svg>

<p>Mastering the art of module development involves a variety of elements, but perhaps none are as powerful or versatile as the concept of normalization. This seemingly simple concept of transforming values into a range between 0 and 1 can profoundly impact the scalability, versatility, and user experience of a module.</p>
<span id="more"></span>

<h2 id="The-Beauty-of-0-1"><a href="#The-Beauty-of-0-1" class="headerlink" title="The Beauty of [0,1]"></a>The Beauty of [0,1]</h2><p>Normalization, in essence, is about perspective. It takes any given value within a specific range and converts it to a corresponding value within a standard range, typically [0,1]. This range is particularly handy as it’s akin to the percentage system we’re all familiar with. Here, 0 represents the absolute minimum, 1 signifies the absolute maximum, and everything in between is a proportional fraction. </p>
<p>In the world of module development, scalability holds paramount importance. In this context, normalizing to a [0,1] range equips us with a powerful tool for adjusting and scaling our output. The process is straightforward: you take a raw value, clamp it to a predetermined maximum value, and then divide the clamped value by this maximum. </p>
<p>This elegant operation gives birth to a value nestled within the [0,1] range. But what’s the practical implication?</p>
<p>The answer lies in the unparalleled flexibility it provides. If the end signal needs to be stronger (closer to 1) or weaker (closer to 0), you can simply tweak the maximum value before normalization. A higher maximum value will yield a weaker signal, and a lower maximum will result in a stronger one. By adjusting the maximum value, you essentially adjust the sensitivity of your module to the raw inputs.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> maxLevel = <span class="number">500.0</span>; <span class="comment">// Adjust this value to scale your output</span></span><br><span class="line"><span class="keyword">float</span> clampedValue = min(rawValue, maxLevel);</span><br><span class="line"><span class="keyword">float</span> normalizedValue = clampedValue / maxLevel;</span><br></pre></td></tr></table></figure>

<h2 id="Adding-Dimension-with-Easing-Functions"><a href="#Adding-Dimension-with-Easing-Functions" class="headerlink" title="Adding Dimension with Easing Functions"></a>Adding Dimension with Easing Functions</h2><p>While normalization is the bedrock of data transformation in module development the dynamism truly comes to life when we apply easing functions to our normalized values.</p>
<p>In the context of a racing simulator the transition from the hum of a paved road to the rumble of a gravel track needs subtlety. A raw, linear change could feel abrupt and jarring. Instead, what if the sound gradually builds up, providing a more nuanced and immersive experience?</p>
<p>This is precisely where easing functions, like the quadIn function, come into play. The quadIn function is a type of “ease-in” function that begins slowly and accelerates smoothly as it progresses. When applied to our normalized road noise value, it squares the input, causing a slower initial increase that speeds up as the value approaches 1.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> easedValue = quadIn(normalizedValue); <span class="comment">// apply quadratic easing</span></span><br></pre></td></tr></table></figure>

<p>In effect, it makes the road noise less noticeable when it’s low, and ensures it becomes more prominent when the values are high. This way, the road noise can subtly augment the immersive experience without being too intrusive at lower levels, creating a more natural and pleasing progression.</p>
<h2 id="Real-time-Adjustments-with-Potentiometers"><a href="#Real-time-Adjustments-with-Potentiometers" class="headerlink" title="Real-time Adjustments with Potentiometers"></a>Real-time Adjustments with Potentiometers</h2><p>A potentiometer is a simple yet powerful electronic component commonly used for adjusting signal levels in various types of circuits. Essentially it’s a variable resistor where its resistance value can be adjusted by turning a knob or a dial. In the world of user interfaces, potentiometers find application as knobs or sliders on audio equipment or as control inputs in a wide range of electronic devices.</p>
<p>In the context of our racing simulation, the potentiometer acts as a user-adjustable control for setting the maximum level of road noise. As the user turns the potentiometer’s knob, it changes the resistance value, which can be read and converted to a usable signal by our software.</p>
<p>In our C code, <code>readPotentiometer()</code> could represent a function that reads the current value from a connected potentiometer.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> maxLevel = readPotentiometer(); <span class="comment">// The potentiometer value sets the max level</span></span><br><span class="line"><span class="keyword">float</span> clampedValue = min(rawValue, maxLevel);</span><br><span class="line"><span class="keyword">float</span> normalizedValue = clampedValue / maxLevel;</span><br></pre></td></tr></table></figure>

<p>Here the maxLevel for normalization is directly controlled by the potentiometer’s value. This normalized value is then further processed by the quadIn easing function.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> easedValue = quadIn(normalizedValue); <span class="comment">// apply quadratic easing</span></span><br></pre></td></tr></table></figure>

<p>With this real-time control users can dynamically adjust the road noise level during the race.</p>

  
</div>

<ul class="pager">
  
  
      <li class="pager-right"><a href="https://cactusgod.com/twtwelve/waves-of-sensation/">Waves of Sensation ↪</a></li>
  
</ul> 
      <footer>
    &#169; 2021-2023 Cactus God | Jeremy
</footer>
    </div>
    
<script src="/js/script.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QBZEEQYPR8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QBZEEQYPR8');
    </script>
  </body>
</html>

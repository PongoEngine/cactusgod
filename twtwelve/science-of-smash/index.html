<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     
    
    <meta name="author" content="Jeremy" />
     
    <meta name="description" content="A blog about designing haptic feedback hardware and progamming soft synths. Posts dive into expanding limited telemtry data to drive an immersive experience and maybe using FM to blow some speakers." />
     
    <meta property="og:title" content="The Science of Smash" />
    
    <meta property="og:site_name" content="Cactus God" />

    
    <meta property="og:image" content="" />
     <link rel="shortcut icon" href="/img/favicon.ico">  <link rel="alternate" href="/atom.xml" title="Cactus God" type="application/atom+xml"> 
    <title>Cactus God | The Science of Smash</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif&family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    
    <style>
      body {
        background-color: #111;
        color: #fff;
      }

      header {
        background-color: #ff8800;
        color: #222;
      }

      code {
        background-color: #ffe1bf;
        color: #222;
      }

      figure {
        background-color: #ffe1bf;
        color: #222;
      }

      .arrangement {
        background-color: #b35f001f;
      }

      .arrangement-wavy {
        stroke: #ff8800;
      }

      .tubs-segment {
        fill: #444;
        stroke: #000;
      }

      .tubs-segment.down {
        stroke: #888;
        stroke-width: 3px;
      }

      .tubs-segment.back {
        stroke: #888;
        stroke-width: 2px;
      }

      .tubs-segment.split {
        stroke: #888;
        stroke-width: 1px;
      }

      .tubs-segment.hit {
        fill: #ff8800;
      }

      .tubs-line {
        stroke: #ffc480;
      }

      .tubs-text {
        fill: #fff;
      }

      .tubs-backing-cur {
        stroke: #ffc480;
      }

      .tubs-text-cur {
        fill: #fff;
      }

      .dyn-pattern-path {
        stroke: #ff8800;
      }

      .dyn-text {
        fill: #000;
      }

      .dyn-dynamics {
        fill: none;
        stroke: #ff8800;
      }

      .dyn-point-tri {
        fill: none;
        stroke: #ff8800;
      }

      .dyn-point-text {
        fill: #fff;
      }
    </style>
  
    
<link rel="stylesheet" href="/css/blog.css">

  <meta name="generator" content="Hexo 5.4.0"></head>
  <body>
    <div class="container">
      <header>
  <ul class="blog-nav">
    
    <li class="blog-nav-item">
      <a href="/">Home</a>
    </li>
    
    <li class="blog-nav-item">
      <a href="/about">About</a>
    </li>
    
  </ul>
  <h1>
    <span class="header-title">Cactus God</span
    >
  </h1>
  <div class="header-line"></div>
</header>
 
      <div class="post">
  <!-- Title -->
  <h1>
    
      The Science of Smash
    
  </h1>
  <p class="post-date">
    July 13, 2023
  </p>
  
    
    <svg version="1.1"
    width="3500" viewBox="0 0 3500 1336.8767618115003"
    class="dynamics"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <pattern id="pattern-2" x="0" y="0" width="120" height="20" patternUnits="userSpaceOnUse">
          <path stroke-width="1.458971001038043" class="dyn-pattern-path" d='M-50.129 12.685C-33.346 12.358-16.786 4.918 0 5c16.787.082 43.213 10 60 10s43.213-9.918 60-10c16.786-.082 33.346 7.358 50.129 7.685' stroke-width='0.5' stroke='rgb(0, 0, 0)' fill='none' />
        </pattern>
      </defs>
      <rect class="dyn-rect-back" width="3500" height="1336.8767618115003" x="0" y="0" fill="url(#pattern-2)" />
      <rect class="dyn-rect-front" width="3500" height="1336.8767618115003" x="195.04644274446218" y="195.04644274446218" fill="url(#pattern-2)" />
      <text class="dyn-text no-user-select" font-weight="700" letter-spacing="-10.869461379219647" font-size="243.80805343057773" alignment-baseline="hanging" text-anchor="middle" x="1750" y="668.4383809057501">DETECTING AND QUANTIFYING CRASH EVENTS</text>
      <polygon
      class="dyn-point-tri"
      points="2367.64705882353,116.36716810546122 2387.64705882353,151.00818425683875 2347.64705882353,151.00818425683875"
      stroke-width="4"
    />
      <polyline class="dyn-dynamics" points="0,668.4383809057501 102.94117647058823,668.4383809057501 205.88235294117646,668.4383809057501 308.8235294117647,668.4383809057501 411.7647058823529,668.4383809057501 514.7058823529412,668.4383809057501 617.6470588235295,668.4383809057501 720.5882352941178,668.4383809057501 823.5294117647061,668.4383809057501 926.4705882352944,668.4383809057501 1029.4117647058827,668.4383809057501 1132.352941176471,668.4383809057501 1235.2941176470592,668.4383809057501 1338.2352941176475,668.4383809057501 1441.1764705882358,668.4383809057501 1544.117647058824,668.4383809057501 1647.0588235294124,668.4383809057501 1750.0000000000007,668.4383809057501 1852.941176470589,668.4383809057501 1955.8823529411773,668.4383809057501 2058.8235294117653,668.4383809057501 2161.7647058823536,668.4383809057501 2264.705882352942,668.4383809057501 2367.64705882353,668.4383809057501 2367.64705882353,133.68767618114998 2470.5882352941185,1203.1890856303503 2573.5294117647068,1203.1890856303503 2676.470588235295,1203.1890856303503 2779.4117647058833,1203.1890856303503 2882.3529411764716,1203.1890856303503 2985.29411764706,1203.1890856303503 3088.235294117648,1203.1890856303503 3191.1764705882365,1203.1890856303503 3294.117647058825,1203.1890856303503 3397.058823529413,1203.1890856303503 3500.0000000000014,1203.1890856303503 " stroke-width="5" />
    </svg>

<p>The adrenaline rush in a racing simulator is not just about mastering the art of maneuvering around bends at dizzying speeds; it’s also about the abruptness of a high-speed crash. But with limited telemetry data from the game often lacking specific collision information how do we detect and quantify the severity of a crash?</p>
<p>Thankfully the regular updates we get from the simulator — 60 times a second, to be precise — provides an opportunity. This high-frequency data, specifically the velocity data, can be our secret weapon in detecting and quantifying crash events.</p>
<span id="more"></span>

<h2 id="Deciphering-Velocity-Data-to-Detect-Crashes"><a href="#Deciphering-Velocity-Data-to-Detect-Crashes" class="headerlink" title="Deciphering Velocity Data to Detect Crashes"></a>Deciphering Velocity Data to Detect Crashes</h2><p>The principle is simple: During regular driving the velocity changes smoothly. However during a crash there is a sudden and significant change in velocity. </p>
<p>By calculating acceleration, which is the change in velocity over time, we can detect a crash. But we can also do one better – by comparing the calculated acceleration to a known maximum value (representing the most severe crash), we can get a crash severity value between 0 and 1. A value closer to 0 represents no crash, while a value closer to 1 represents a severe crash.</p>
<h2 id="A-Practical-Example-C-Function-for-Crash-Severity"><a href="#A-Practical-Example-C-Function-for-Crash-Severity" class="headerlink" title="A Practical Example: C Function for Crash Severity"></a>A Practical Example: C Function for Crash Severity</h2><p>Here’s a C function that implements the above principle:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Function to calculate crash severity</span></span><br><span class="line"><span class="comment">// v0 and v1 represent consecutive velocity values.</span></span><br><span class="line"><span class="comment">// max_acceleration is the maximum acceleration representing a severe crash.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">calculate_crash_severity</span><span class="params">(<span class="keyword">float</span> v0, <span class="keyword">float</span> v1, <span class="keyword">float</span> max_acceleration)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">float</span> delta_v = v1 - v0; <span class="comment">// Change in velocity</span></span><br><span class="line">    <span class="keyword">float</span> <span class="keyword">delta_t</span> = <span class="number">1.0</span> / <span class="number">60.0</span>; <span class="comment">// Time interval (we&#x27;re assuming data is updated 60 times a second)</span></span><br><span class="line">    <span class="keyword">float</span> acceleration = delta_v / <span class="keyword">delta_t</span>; <span class="comment">// Calculating acceleration</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Normalizing acceleration to get a value between 0 and 1</span></span><br><span class="line">    <span class="comment">// fabsf is used to get the absolute value of acceleration as we&#x27;re interested in the magnitude of acceleration, not its direction.</span></span><br><span class="line">    <span class="keyword">float</span> crash_severity = fabsf(acceleration) / max_acceleration;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Clamping the value between 0 and 1</span></span><br><span class="line">    <span class="keyword">if</span> (crash_severity &gt; <span class="number">1.0f</span>) crash_severity = <span class="number">1.0f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> crash_severity;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In this function, we first calculate the change in velocity (<code>delta_v</code>). The time interval (<code>delta_t</code>) is 1/60 seconds as the data updates 60 times a second. We then calculate the acceleration and normalize it against a known maximum value (<code>max_acceleration</code>) to get a crash severity value.</p>
<p>We use the <code>fabsf</code> function to ensure we are working with the magnitude of the acceleration, as a sudden deceleration during a collision would yield a negative acceleration value. Finally, we make sure to clamp the crash severity value between 0 and 1 to ensure it stays within our desired range.</p>
<h2 id="Bringing-Crashes-to-Life"><a href="#Bringing-Crashes-to-Life" class="headerlink" title="Bringing Crashes to Life"></a>Bringing Crashes to Life</h2><p>Through the power of velocity data, acceleration calculations, and a touch of programming magic we can translate abstract numbers into real-world sensations. It’s the crash that shakes the steering wheel, the jolt that moves the seat — the perfect illusion of reality. So next time you skid, spin, and collide in your virtual race car remember behind every crash is a powerful function generating your reality.</p>

  
</div>

<ul class="pager">
  
      <li class="pager-left"><a href="https://cactusgod.com/twtwelve/waves-of-sensation/">↩ Waves of Sensation</a></li>
  
  
      <li class="pager-right"><a href="https://cactusgod.com/twtwelve/tuning-road-noise/">Tuning Into the Symphony of Road Noise ↪</a></li>
  
</ul> 
      <footer>
    &#169; 2021-2023 Cactus God | Jeremy
</footer>
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QBZEEQYPR8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QBZEEQYPR8');
    </script>
  </body>
</html>

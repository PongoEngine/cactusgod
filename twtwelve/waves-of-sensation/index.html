<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     
    
    <meta name="author" content="Jeremy" />
     
    <meta name="description" content="A blog about designing haptic feedback hardware and progamming soft synths. Posts dive into expanding limited telemtry data to drive an immersive experience and maybe using FM to blow some speakers." />
     
    <meta property="og:title" content="Waves of Sensation" />
    
    <meta property="og:site_name" content="Cactus God" />

    
    <meta property="og:image" content="" />
     <link rel="shortcut icon" href="/img/favicon.ico">  <link rel="alternate" href="/atom.xml" title="Cactus God" type="application/atom+xml"> 
    <title>Cactus God | Waves of Sensation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif&family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    
    <style>
      body {
        background-color: #111;
        color: #fff;
      }

      header {
        background-color: #ff2200;
        color: #222;
      }

      code {
        background-color: #ffc8bf;
        color: #222;
      }

      figure {
        background-color: #ffc8bf;
        color: #222;
      }

      .arrangement {
        border: 1px solid #ff9180;
      }

      .arrangement-wavy {
        stroke: #ff2200;
      }

      .tubs-segment {
        fill: #444;
        stroke: #000;
      }

      .tubs-segment.down {
        stroke: #888;
        stroke-width: 3px;
      }

      .tubs-segment.back {
        stroke: #888;
        stroke-width: 2px;
      }

      .tubs-segment.split {
        stroke: #888;
        stroke-width: 1px;
      }

      .tubs-segment.hit {
        fill: #ff2200;
      }

      .tubs-line {
        stroke: #ff9180;
      }

      .tubs-text {
        fill: #fff;
      }

      .tubs-backing-cur {
        stroke: #ff9180;
      }

      .tubs-text-cur {
        fill: #fff;
      }

      .dyn-pattern-path {
        stroke: #ff2200;
      }

      .dyn-text {
        fill: #000;
      }

      .dyn-dynamics {
        fill: none;
        stroke: #ff2200;
      }

      .dyn-point-tri {
        fill: none;
        stroke: #ff2200;
      }

      .dyn-point-text {
        fill: #fff;
      }
    </style>
  
    
<link rel="stylesheet" href="/css/blog.css">

  <meta name="generator" content="Hexo 5.4.0"></head>
  <body>
    <div class="container">
      <header>
  <ul class="blog-nav">
    
    <li class="blog-nav-item">
      <a href="/">Home</a>
    </li>
    
    <li class="blog-nav-item">
      <a href="/about">About</a>
    </li>
    
  </ul>
  <h1>
    <span class="header-title">Cactus God</span
    >
  </h1>
  <div class="header-line"></div>
</header>
 
      <div class="post">
  <!-- Title -->
  <h1>
    
      Waves of Sensation
    
  </h1>
  <p class="post-date">
    July 14, 2023
  </p>
  
    
    <svg version="1.1"
    width="4900" viewBox="0 0 4900 1871.6274665361002"
    class="dynamics"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <pattern id="pattern-2" x="0" y="0" width="120" height="20" patternUnits="userSpaceOnUse">
          <path stroke-width="1.458971001038043" class="dyn-pattern-path" d='M-50.129 12.685C-33.346 12.358-16.786 4.918 0 5c16.787.082 43.213 10 60 10s43.213-9.918 60-10c16.786-.082 33.346 7.358 50.129 7.685' stroke-width='0.5' stroke='rgb(0, 0, 0)' fill='none' />
        </pattern>
      </defs>
      <rect class="dyn-rect-back" width="4900" height="1871.6274665361002" x="0" y="0" fill="url(#pattern-2)" />
      <rect class="dyn-rect-front" width="4900" height="1871.6274665361002" x="273.06501984224707" y="273.06501984224707" fill="url(#pattern-2)" />
      <text class="dyn-text no-user-select" font-weight="700" letter-spacing="-15.217245930907508" font-size="341.3312748028088" alignment-baseline="hanging" text-anchor="middle" x="2450" y="935.8137332680501">THE VIBRATIONAL LANGUAGE OF HAPTIC FEEDBACK</text>
      
      <polyline class="dyn-dynamics" points="0,187.16274665360993 102.08333333333333,187.16274665360993 204.16666666666666,374.32549330721986 306.25,374.32549330721986 408.3333333333333,561.4882399608302 510.41666666666663,561.4882399608302 612.5,748.6509866144402 714.5833333333334,748.6509866144402 816.6666666666667,935.8137332680501 918.7500000000001,935.8137332680501 1020.8333333333335,1122.97647992166 1122.9166666666667,1122.97647992166 1225,1310.1392265752702 1327.0833333333333,1310.1392265752702 1429.1666666666665,1497.3019732288801 1531.2499999999998,1497.3019732288801 1633.333333333333,1684.46471988249 1735.4166666666663,1684.46471988249 1837.4999999999995,1497.3019732288801 1939.5833333333328,1497.3019732288801 2041.666666666666,1310.1392265752702 2143.7499999999995,1310.1392265752702 2245.833333333333,1122.97647992166 2347.9166666666665,1122.97647992166 2450,935.8137332680501 2552.0833333333335,935.8137332680501 2654.166666666667,748.6509866144402 2756.2500000000005,748.6509866144402 2858.333333333334,561.4882399608302 2960.4166666666674,561.4882399608302 3062.500000000001,374.32549330721986 3164.5833333333344,374.32549330721986 3266.666666666668,187.16274665360993 3368.7500000000014,187.16274665360993 3470.833333333335,374.32549330721986 3572.9166666666683,374.32549330721986 3675.000000000002,561.4882399608302 3777.0833333333353,561.4882399608302 3879.166666666669,748.6509866144402 3981.2500000000023,748.6509866144402 4083.3333333333358,935.8137332680501 4185.416666666669,935.8137332680501 4287.500000000002,1122.97647992166 4389.583333333335,1122.97647992166 4491.666666666668,1310.1392265752702 4593.750000000001,1310.1392265752702 4695.833333333334,1497.3019732288801 4797.916666666667,1497.3019732288801 4900,1684.46471988249 " stroke-width="5" />
    </svg>

<p>In the domain of racing simulators the pursuit of immersive experiences goes beyond the graphical representation of the racing environment. One crucial facet is haptic feedback, which enables players to ‘feel’ their virtual ride. This post will delve into how different waveforms – sawtooth, sine, and square – can convey detailed haptic information from multiple sources into a single feedback channel.</p>
<span id="more"></span>

<h2 id="Haptic-Feedback-From-Vibration-to-Perception"><a href="#Haptic-Feedback-From-Vibration-to-Perception" class="headerlink" title="Haptic Feedback: From Vibration to Perception"></a>Haptic Feedback: From Vibration to Perception</h2><p>The vibrational language of haptic feedback enables players to sense everything from the hum of the engine to the nuances of the road surface. But there’s a challenge: these sensations must be delivered through a limited set of actuators in a steering wheel, bass shaker, or a gamepad. So how can we provide such a rich array of information through a single channel? The key lies in the waveforms that modulate these vibrations.</p>
<h3 id="Sine-Waves-The-RPM-Rhythm"><a href="#Sine-Waves-The-RPM-Rhythm" class="headerlink" title="Sine Waves: The RPM Rhythm"></a>Sine Waves: The RPM Rhythm</h3><p>Consider the racing car’s engine, its RPM (revolutions per minute) defining the throbbing heart of the vehicle. A sine wave, with its smooth and periodic oscillation, is a fitting choice to convey this heartbeat. By mapping the engine’s RPM to the frequency and amplitude of a sine wave, we can create a palpable rhythm that increases as the engine revs higher and decreases as it slows, mimicking the real-life feel of a pulsating engine.</p>
<h3 id="Square-Waves-Road-Noise-Reverberations"><a href="#Square-Waves-Road-Noise-Reverberations" class="headerlink" title="Square Waves: Road Noise Reverberations"></a>Square Waves: Road Noise Reverberations</h3><p>Now let’s turn our attention to the interaction between the tires and the road surface, a critical factor in the driving experience. A square wave, with its abrupt transitions, is apt to represent the sudden jolts and bumps you’d experience while driving over uneven surfaces. By mapping road noise to the frequency and amplitude of a square wave, we can simulate the tactile feeling of the road, from the gentle hum of a smooth highway to the rough vibrations of an off-road trail.</p>
<h3 id="Sawtooth-Waves-Slipping-Tires"><a href="#Sawtooth-Waves-Slipping-Tires" class="headerlink" title="Sawtooth Waves: Slipping Tires"></a>Sawtooth Waves: Slipping Tires</h3><p>Finally, there’s tire slippage, a sensation critical for judging the limits of your car’s grip. A sawtooth wave, with its ramp-like upswing and sudden drop, captures this feeling well. As the tires begin to lose traction, the quick rise and drop in the sawtooth wave builds tension. By mapping the slippage to the frequency and amplitude of a sawtooth wave, we can create a sense of anticipation or a sudden release that mimics the feeling of tires slipping on the tarmac.</p>
<h2 id="Merging-the-Waves-The-Art-of-Mixing"><a href="#Merging-the-Waves-The-Art-of-Mixing" class="headerlink" title="Merging the Waves: The Art of Mixing"></a>Merging the Waves: The Art of Mixing</h2><p>With three different waveforms representing distinct aspects of the driving experience, the next challenge is to blend them into a single output that our haptic devices can interpret. This process, known as mixing, requires careful attention to ensure that no single waveform overwhelms the others and all contribute to the overall feedback.</p>
<p>Typically the mixing process involves normalizing the amplitude of each waveform relative to its importance to the feedback. The RPM sine wave, for example, might contribute significantly to the overall mix, while the sawtooth wave for tire slippage might only contribute under specific conditions (like when navigating a slippery turn).</p>
<h2 id="The-Result-A-Symphony-of-Sensation"><a href="#The-Result-A-Symphony-of-Sensation" class="headerlink" title="The Result: A Symphony of Sensation"></a>The Result: A Symphony of Sensation</h2><p>Drawing parallels from how our ears distinguish a symphony of voices through minor details in their vocals, we aim to do something similar with haptic feedback. Our goal is to translate complex combinations of waveforms into distinct sensations, felt through the vibrations of the controller.</p>
<p>The blending process, known as ‘mixing’, uses a straightforward yet effective function:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">mix</span><span class="params">(<span class="keyword">float</span> a, <span class="keyword">float</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (a + b) - a * b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The <code>mix</code> function takes two inputs, <code>a</code> and <code>b</code>, representing two different waveforms. It combines them while ensuring the output stays within the system’s maximum limit. This function prevents distortion or clipping in our haptic feedback, just like our ears can differentiate multiple voices singing in harmony without distortion.</p>
<p>So, we can mix the sine wave from the RPM, the square wave from the road noise, and the sawtooth wave from the tire slippage into a single waveform. This combined signal is used to drive the haptic feedback, enabling a nuanced sensation of the car’s state.</p>
<p>The result is much like listening to a symphony. Just as our ears pick up the distinct sounds of different instruments each contributing to the overall music. The haptic feedback system provides a layered sensation. Every turn of the wheel, press of the pedal, or slip of the tire creates a distinct tactile response, each adding to the immersive experience of the game.</p>

  
</div>

<ul class="pager">
  
      <li class="pager-left"><a href="https://cactusgod.com/twtwelve/power-of-normalization/">↩ The Power of Normalization</a></li>
  
  
      <li class="pager-right"><a href="https://cactusgod.com/twtwelve/science-of-smash/">The Science of Smash ↪</a></li>
  
</ul> 
      <footer>
    &#169; 2021-2023 Cactus God | Jeremy
</footer>
    </div>
    
<script src="/js/script.js"></script>

  </body>
</html>
